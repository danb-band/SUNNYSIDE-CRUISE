generator client {
  provider = "prisma-client"
  output   = "../src/generated/prisma"
}

datasource db {
  provider = "postgresql"
}

/// This model contains row level security and requires additional setup for migrations. Visit https://pris.ly/d/row-level-security for more info.
model Comment {
  id        String    @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  songId    String    @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  content   String
  writer    String
  deletePw  String
  createdAt DateTime  @default(now()) @db.Timestamptz(6)
  updatedAt DateTime  @default(now()) @db.Timestamptz(6)
  deletedAt DateTime? @db.Timestamptz(6)
  song      Song      @relation(fields: [songId], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "comments_song_id_fkey")

  @@map("comment")
}

/// This model contains row level security and requires additional setup for migrations. Visit https://pris.ly/d/row-level-security for more info.
model Player {
  id         String    @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  songId     String    @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  name       String
  instrument String
  createdAt  DateTime  @default(now()) @db.Timestamptz(6)
  updatedAt  DateTime  @default(now()) @db.Timestamptz(6)
  deletedAt  DateTime? @db.Timestamptz(6)
  song       Song      @relation(fields: [songId], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "players_song_id_fkey")

  @@map("player")
}

/// This model contains row level security and requires additional setup for migrations. Visit https://pris.ly/d/row-level-security for more info.
model Season {
  id         String   @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  name       String
  sortOrder  BigInt
  isArchived Boolean
  createdAt  DateTime @default(now()) @db.Timestamptz(6)
  updatedAt  DateTime @default(now()) @db.Timestamptz(6)
  song       Song[]

  @@map("season")
}

/// This model contains row level security and requires additional setup for migrations. Visit https://pris.ly/d/row-level-security for more info.
model Song {
  id          String    @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  seasonId    String    @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  name        String
  artist      String
  description String
  youtubeUrl  String
  sortOrder   BigInt
  writer      String
  deletePw    String
  createdAt   DateTime  @default(now()) @db.Timestamptz(6)
  updatedAt   DateTime  @default(now()) @db.Timestamptz(6)
  deletedAt   DateTime? @db.Timestamptz(6)
  comment     Comment[]
  player      Player[]
  season      Season    @relation(fields: [seasonId], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "songs_season_id_fkey")

  @@map("song")
}
